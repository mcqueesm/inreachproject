@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<h1 class="mb-3">Upload File to S3 Bucket</h1>

<p class=@Model.msgClass >@Model.Message</p>

@if (Model.URL != "") { 
<div class="card card-body bg-light mb-3">
    <a href=@Model.URL>@Model.URL</a>
</div>
    }
<form class="upload-form" enctype="multipart/form-data" method="post"
      style="width: 300px">
    <div class="form-group">
        <label for="emailInput">Email Address</label>
        <input type="email" name="email" class="form-control" id="emailInput" aria-describedby="emailHelp">
        <small id="emailHelp" class="form-text text-muted">Confirmation will be sent to this email address.</small>
    </div>
    <div class="form-group">
        <label for="fileInput">Upload File</label>
        <input type="file" name="file" class="form-control" id="fileInput">
        <small id="emailHelp" class="form-text text-muted">Max 10MB</small>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<script>
    var uploadField = document.getElementById("fileInput");

    uploadField.onchange = function () {
        if (this.files[0].size >= 10000000) {
            alert("Max file size is 10MB");
            this.value = "";
        };
    };
</script>